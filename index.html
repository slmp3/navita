<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SLMP3 NAVITA</title>
<style>
    body { font-family: Arial, sans-serif; background: #f0f0f0; padding: 20px; }
    #chat { border: 1px solid #ccc; background: #fff; padding: 10px; height: 400px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
    #userInput { width: 80%; padding: 10px; }
    #sendBtn { padding: 10px; }

    .message {
        max-width: 70%;
        padding: 10px 15px;
        word-wrap: break-word;
        line-height: 1.4;
        position: relative;
        color: #000;
    }

    .navita {
        background-color: #d0e7ff;
        border-radius: 15px;
        align-self: flex-start;
    }
    .navita::after {
        content: "";
        position: absolute;
        top: 10px;
        left: -10px;
        width: 0;
        height: 0;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
        border-right: 10px solid #d0e7ff;
    }

    .user {
        background-color: #dcf8c6;
        border-radius: 15px;
        align-self: flex-end;
    }
    .user::after {
        content: "";
        position: absolute;
        top: 10px;
        right: -10px;
        width: 0;
        height: 0;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
        border-left: 10px solid #dcf8c6;
    }
</style>
</head>
<body>

<h2>SLMP3 NAVITA</h2>
<div id="chat"></div>
<input type="text" id="userInput" placeholder="Type your message...">
<button id="sendBtn">Send</button>

<script>
const chat = document.getElementById('chat');
const input = document.getElementById('userInput');
const button = document.getElementById('sendBtn');

function navitaRespond(message) {
    const msg = message.toLowerCase();
    let response = "";

    if (msg.includes("hello") || msg.includes("hi")) {
        const greetings = ["Hello!", "Hey!", "Hi there!"];
        response = greetings[Math.floor(Math.random() * greetings.length)];
    } else if (msg.includes("time")) {
        const now = new Date();
        let hours = now.getHours();
        const minutes = now.getMinutes().toString().padStart(2,'0');
        const ampm = hours >= 12 ? "PM" : "AM";
        hours = hours % 12 || 12;
        response = `The current time is ${hours}:${minutes} ${ampm}.`;
    } else if (msg.includes("bye") || msg.includes("exit")) {
        response = "Goodbye! Have a nice day.";
    } else if (msg === "navita") {
        response = "Yes, I am NAVITA.";
    } else if (msg.includes("date") || msg.includes("today")) {
        const today = new Date();
        const options = { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' };
        response = `Today is ${today.toLocaleDateString('en-US', options)}.`;
    } else if (msg.startsWith("calculate")) {
        try {
            const expr = msg.replace("calculate", "").trim();
            response = eval(expr);
        } catch(e) {
            response = "Sorry, I can't calculate that.";
        }
    } else if (msg.includes("guess the number")) {
        const n = Math.floor(Math.random() * 100000) + 1;
        response = `Guess a number: ${n}`;
    } else if (msg.startsWith("open")) {
        const site = msg.replace("open", "").trim().toLowerCase();
        if (site.includes("reddit")) {
            window.open("https://www.reddit.com", "_blank");
            response = "Opening Reddit...";
        } else if (site.includes("crawl")) {
            window.open("https://slmp3-crawl.vercel.app", "_blank");
            response = "Opening SLMP3 Crawl...";
        } else {
            let url = site;
            if (!url.startsWith("http://") && !url.startsWith("https://")) {
                url = "https://" + site;
            }
            try {
                window.open(url, "_blank");
                response = `Opening ${url}...`;
            } catch (e) {
                response = "Cannot open that website.";
            }
        }
    } else if (msg === "c!") {
        response = `
hello / hi > Greet NAVITA
time > Show Current Time by AM/PM
date / today > Tells the current date
bye / exit > Says Bye, but your input and Send button will be disabled.
navita > if any user types it's name
calculate [expression] > Quick Calculator
guess the number > guesses a random number or chooses a random number
Open [Name] > Open Website By name but only SLMP3 Crawl and Reddit yet.
Open URL [URL] > Open Website By URL, works with any Website that is working
c! > shows commands
`;
    } else {
        response = "I don't understand that command yet.";
    }

    return response;
}

function addMessage(sender, message) {
    const div = document.createElement('div');
    div.className = `message ${sender}`;
    div.textContent = message;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
}

function sendMessage() {
    const userMsg = input.value.trim();
    if (!userMsg) return;
    addMessage('user', userMsg);
    const reply = navitaRespond(userMsg);
    addMessage('navita', reply);
    input.value = "";
    if (reply.includes("Goodbye")) {
        input.disabled = true;
        button.disabled = true;
    }
}

button.addEventListener('click', sendMessage);
input.addEventListener('keypress', function(e){
    if (e.key === 'Enter') sendMessage();
});

const hour = new Date().getHours();
if (hour < 12) addMessage('navita', "Good morning! How can I assist you?");
else if (hour < 18) addMessage('navita', "Good afternoon! How can I assist you?");
else addMessage('navita', "Good evening! How can I assist you?");
</script>
</body>
</html>